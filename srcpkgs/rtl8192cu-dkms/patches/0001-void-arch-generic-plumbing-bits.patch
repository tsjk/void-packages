--- ./Makefile.orig	2023-04-14 21:15:44.329891155 +0200
+++ ./Makefile	2023-04-14 21:18:21.419984947 +0200
@@ -38,7 +38,8 @@
 CONFIG_INTEL_WIDI = n
 CONFIG_WAKE_ON_WLAN = n
 
-CONFIG_PLATFORM_I386_PC = y
+CONFIG_PLATFORM_VOID_NATIVE=y
+CONFIG_PLATFORM_I386_PC = n
 CONFIG_PLATFORM_ARM_GENERIC = n
 CONFIG_PLATFORM_TI_AM3517 = n
 CONFIG_PLATFORM_ANDROID_X86 = n
@@ -237,6 +238,17 @@
 EXTRA_CFLAGS += -DCONFIG_INTEL_WIDI
 endif
 
+ifeq ($(CONFIG_PLATFORM_VOID_NATIVE), y)
+EXTRA_CFLAGS += -DCONFIG_@@VOID_ENDIAN@@_ENDIAN
+EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT
+ARCH := @@VOID_ARCH@@
+KVER ?= $(shell uname -r)
+KSRC ?= /usr/lib/modules/$(KVER)/build
+MODDESTDIR := /usr/lib/modules/$(KVER)/kernel/drivers/net/wireless/
+INSTALL_PREFIX :=
+STAGINGMODDIR := /usr/lib/modules/$(KVER)/kernel/drivers/staging
+endif
+
 ifeq ($(CONFIG_PLATFORM_I386_PC), y)
 EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN
 SUBARCH := $(shell uname -m | sed -e s/i.86/i386/)
